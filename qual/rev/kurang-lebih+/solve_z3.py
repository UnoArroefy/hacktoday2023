from z3 import *

flag = [Int(f'x_{i}') for i in range(40)]

s = Solver()

s.add([i < 128 for i in flag])
s.add((flag[13]+flag[20]+flag[31]+flag[19]+flag[32])==462)
s.add((flag[37]+flag[18]+flag[36]+flag[9]+flag[21])==388)
s.add((flag[28]+flag[27]+flag[5]+flag[39]+flag[34])==475)
s.add((flag[12]+flag[3]+flag[33]+flag[16]+flag[11])==430)
s.add((flag[38]+flag[25]+flag[23]+flag[1]+flag[15])==492)
s.add((flag[30]+flag[24]+flag[4]+flag[17]+flag[7])==474)
s.add((flag[26]+flag[29]+flag[35]+flag[2]+flag[8])==306)
s.add((flag[14]+flag[22]+flag[0]+flag[10]+flag[6])==414)
s.add((flag[13]-flag[20]-flag[31]-flag[19]-flag[32])==-240)
s.add((flag[37]-flag[18]-flag[36]-flag[9]-flag[21])==-200)
s.add((flag[28]-flag[27]-flag[5]-flag[39]-flag[34])==-259)
s.add((flag[12]-flag[3]-flag[33]-flag[16]-flag[11])==-186)
s.add((flag[38]-flag[25]-flag[23]-flag[1]-flag[15])==-420)
s.add((flag[30]-flag[24]-flag[4]-flag[17]-flag[7])==-268)
s.add((flag[26]-flag[29]-flag[35]-flag[2]-flag[8])==-242)
s.add((flag[14]-flag[22]-flag[0]-flag[10]-flag[6])==-198)
s.add((flag[13]+flag[20]-flag[31]+flag[19]-flag[32])==202)
s.add((flag[37]+flag[18]-flag[36]+flag[9]-flag[21])==252)
s.add((flag[28]+flag[27]-flag[5]+flag[39]-flag[34])==27)
s.add((flag[12]+flag[3]-flag[33]+flag[16]-flag[11])==108)
s.add((flag[38]+flag[25]-flag[23]+flag[1]-flag[15])==36)
s.add((flag[30]+flag[24]-flag[4]+flag[17]-flag[7])==44)
s.add((flag[26]+flag[29]-flag[35]+flag[2]-flag[8])==148)
s.add((flag[14]+flag[22]-flag[0]+flag[10]-flag[6])==-16)
s.add((flag[13]-flag[20]+flag[31]-flag[19]+flag[32])==20)
s.add((flag[37]-flag[18]+flag[36]-flag[9]+flag[21])==-64)
s.add((flag[28]-flag[27]+flag[5]-flag[39]+flag[34])==189)
s.add((flag[12]-flag[3]+flag[33]-flag[16]+flag[11])==136)
s.add((flag[38]-flag[25]+flag[23]-flag[1]+flag[15])==36)
s.add((flag[30]-flag[24]+flag[4]-flag[17]+flag[7])==162)
s.add((flag[26]-flag[29]+flag[35]-flag[2]+flag[8])==-84)
s.add((flag[14]-flag[22]+flag[0]-flag[10]+flag[6])==232)
s.add((flag[13]+flag[20]+flag[31]-flag[19]-flag[32])==32)
s.add((flag[37]+flag[18]+flag[36]-flag[9]-flag[21])==80)
s.add((flag[28]+flag[27]+flag[5]-flag[39]-flag[34])==155)
s.add((flag[12]+flag[3]+flag[33]-flag[16]-flag[11])==138)
s.add((flag[38]+flag[25]+flag[23]-flag[1]-flag[15])==32)
s.add((flag[30]+flag[24]+flag[4]-flag[17]-flag[7])==170)
s.add((flag[26]+flag[29]+flag[35]-flag[2]-flag[8])==16)
s.add((flag[14]+flag[22]+flag[0]-flag[10]-flag[6])==92)
s.add((flag[13]-flag[20]-flag[31]+flag[19]+flag[32])==190)
s.add((flag[37]-flag[18]-flag[36]+flag[9]+flag[21])==108)
s.add((flag[28]-flag[27]-flag[5]+flag[39]+flag[34])==61)
s.add((flag[12]-flag[3]-flag[33]+flag[16]+flag[11])==106)
s.add((flag[38]-flag[25]-flag[23]+flag[1]+flag[15])==40)
s.add((flag[30]-flag[24]-flag[4]+flag[17]+flag[7])==36)
s.add((flag[26]-flag[29]-flag[35]+flag[2]+flag[8])==48)
s.add((flag[14]-flag[22]-flag[0]+flag[10]+flag[6])==124)
s.add((flag[13]+flag[20]-flag[31]-flag[19]+flag[32])==164)
s.add((flag[37]+flag[18]-flag[36]-flag[9]+flag[21])==72)
s.add((flag[28]+flag[27]-flag[5]-flag[39]+flag[34])==183)
s.add((flag[12]+flag[3]-flag[33]-flag[16]+flag[11])==-4)
s.add((flag[38]+flag[25]-flag[23]-flag[1]+flag[15])==48)
s.add((flag[30]+flag[24]-flag[4]-flag[17]+flag[7])==168)
s.add((flag[26]+flag[29]-flag[35]-flag[2]+flag[8])==46)
s.add((flag[14]+flag[22]-flag[0]-flag[10]+flag[6])==102)
s.add((flag[13]-flag[20]+flag[31]+flag[19]-flag[32])==58)
s.add((flag[37]-flag[18]+flag[36]+flag[9]-flag[21])==116)
s.add((flag[28]-flag[27]+flag[5]+flag[39]-flag[34])==33)
s.add((flag[12]-flag[3]+flag[33]+flag[16]-flag[11])==248)
s.add((flag[38]-flag[25]+flag[23]+flag[1]-flag[15])==24)
s.add((flag[30]-flag[24]+flag[4]+flag[17]-flag[7])==38)
s.add((flag[26]-flag[29]+flag[35]+flag[2]-flag[8])==18)
s.add((flag[14]-flag[22]+flag[0]+flag[10]-flag[6])==114)

if s.check() == sat:
    model = s.model()
    flag_values = [model.eval(f) for f in flag]
    flag_string = ''.join(chr(int(str(f))) for f in flag_values)
    print(f"Flag: {flag_string}")
else:
    print("No solution found.")
